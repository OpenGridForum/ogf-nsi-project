#summary Living list of NSI error codes for standardization.

= Introduction =

The NSI CS protocol commonly utilizes the ServiceExceptionType structure to convey error information associated with SOAP faults, failed messages, and error messages. The structure is extremely flexible and able to handle both simple high-level error information, as well as detailed errors down to the individual attribute value causing a problem.

The following elements are defined as members of the ServiceException:

 * nsaId - NSA that generated the service exception.

 * connectionId - The connectionId associated with the reservation impacted by this error.

 * serviceType - The service type identifying the applicable service definition within the context of the NSA generating the error.

 * errorId - Error identifier uniquely identifying each known fault within the protocol.

 * text - User friendly message text describing the error.

 * variables - A collection of type/value pairs providing addition information relating to the error.

 * childException - Heirarchical list of service exceptions capturing failures withing the request tree.

= Error Codes =

The NSI CS protocol uses a hierarchal error code structure to group related error codes together under a common parent error code value. A service-specific parent error code SERVICE_ERROR(00700) has been defined for use by individual service specification. As new services are offered, and existing ones modified, these service-specific errors can be modified as needed with no impact on the core NSI CS protocol.

|| text || errorId ||
|| SECURITY_ERROR || 00300 ||
|| UNAUTHORIZED || 00301 ||
|| AUTHENTICATION_FAILURE || 00302 ||

If we introduce a new security error code, then the next value would be 00303.  An implementation that does not yet support the new error code can, at the very least, determine it is a  SECURITY_ERROR.

The following are a list of standardized error codes to be supported within ServiceException:

|| text || errorId || description || variables ||
|| PAYLOAD_ERROR || 00100 || || ||
|| MISSING_PARAMETER || 00101 || Invalid or missing parameter || Include the parameter name that is missing. ||
|| UNSUPPORTED_PARAMETER || 00102 || Parameter provided contains an unsupported value which MUST be processed. || Include the parameter name that is unsupported. ||
|| NOT_IMPLEMENTED || 00103 ||  || Include the capability that is not implemented. ||
|| VERSION_NOT_SUPPORTED || 00104 || The service version requested in NSI header is not supported. || Return type protocolVersion and value the version requested. ||
|| CONNECTION_ERROR || 00200 || || ||
|| INVALID_TRANSITION || 00201 || Connection state machine is in invalid state for received message. || Include the current state of the state machine. ||
|| CONNECTION_EXISTS || 00202 || Schedule already exists for connectionId || ||
|| CONNECTION_NONEXISTENT || 00203 || Schedule does not exists for connectionId. || ||
|| CONNECTION_GONE || 00204 || || ||
|| CONNECTION_CREATE_ERROR || 00205 || Failed to create connection (payload was ok, something went wrong) || ||
|| SECURITY_ERROR || 00300 || || ||
|| AUTHENTICATION_FAILURE || 00301 ||  || ||
|| UNAUTHORIZED || 00302 || || ||
|| TOPOLOGY_ERROR || 00400 || || ||
|| NO_PATH_FOUND || 00403 || Path computation failed to resolve route for reservation. || ||
|| INTERNAL_ERROR || 00500 || An internal error has caused a message processing failure. || ||
|| INTERNAL_NRM_ERROR || 00501 || An internal NRM error has caused a message processing failure. || Include information describing the specific NRM error. || ||
|| RESOURCE_UNAVAILABLE || 00600 || || ||

Context for these service-specific errors is provided by the serviceType element included in the ServiceExceptionType structure returned when an NSA generates a service-specific error. This serviceType element maps into the service definition used for the service request1 on this failed segment and, in turn, to a detailed description of the service-specific error. Table 105 shows the service-specific errors defined for the basic point-to-point service.

|| text || errorId || description || variables ||
|| SERVICE_ERROR || 00700 || Reserved for service specific errors as defined by serviceType and the corresponding service definition. || ||
|| UNKNOWN_STP || 00701 || Could not find STP in topology database. || ||
￼|| STP_RESOLUTION_ERROR || 00702 ||  Could not resolve STP to a managing NSA. || ||
￼|| VLANID_INTERCANGE_NOT_SUPPORTED || 00703 || VLAN interchange not supported for requested path. || ||
￼|| STP_UNAVALABLE || 00704 || Specified STP already in use. || ||
￼|| CAPACITY_UNAVAILABLE || 00705 || Insufficient capacity available for reservation. || ||